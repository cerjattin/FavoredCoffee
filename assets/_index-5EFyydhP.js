import{r as e}from"./rolldown-runtime-DSkE_rus.js";import{t}from"./react-DPxKwFV0.js";import"./react-dom-C_tLzgqD.js";import{A as n}from"./chunk-UIGDSWPH-BbaUaRN2.js";import{A as r,B as i,D as a,F as o,G as s,H as c,I as l,L as u,M as d,O as f,Q as p,R as m,V as h,j as g,k as _,q as v,r as y,tt as b,z as x}from"./createLucideIcon-DNvK2JKM.js";import"./reflex-env-C64o51VD.js";import{n as S}from"./emotion-react.browser.esm-DfyT-3QG.js";import"./react-is-DeukDdHT.js";import"./shim-CTlY7ioq.js";import{t as C}from"./triangle-alert-BruGfuWZ.js";var w=e(t(),1),T=e(h(),1),E=`Label`,D=w.forwardRef((e,t)=>(0,T.jsx)(i.label,{...e,ref:t,onMouseDown:t=>{t.target.closest(`button, input, select, textarea`)||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));D.displayName=E;var[O,ee]=x(`Form`),k=`Form`,[A,j]=O(k),[te,M]=O(k),N=w.forwardRef((e,t)=>{let{__scopeForm:n,onClearServerErrors:r=()=>{},...a}=e,o=c(t,w.useRef(null)),[s,l]=w.useState({}),u=w.useCallback(e=>s[e],[s]),d=w.useCallback((e,t)=>l(n=>({...n,[e]:{...n[e]??{},...t}})),[]),f=w.useCallback(e=>{l(t=>({...t,[e]:void 0})),b(t=>({...t,[e]:{}}))},[]),[p,h]=w.useState({}),g=w.useCallback(e=>p[e]??[],[p]),_=w.useCallback((e,t)=>{h(n=>({...n,[e]:[...n[e]??[],t]}))},[]),v=w.useCallback((e,t)=>{h(n=>({...n,[e]:(n[e]??[]).filter(e=>e.id!==t)}))},[]),[y,b]=w.useState({}),x=w.useCallback(e=>y[e]??{},[y]),S=w.useCallback((e,t)=>{b(n=>({...n,[e]:{...n[e]??{},...t}}))},[]),[C,E]=w.useState({});return(0,T.jsx)(A,{scope:n,getFieldValidity:u,onFieldValidityChange:d,getFieldCustomMatcherEntries:g,onFieldCustomMatcherEntryAdd:_,onFieldCustomMatcherEntryRemove:v,getFieldCustomErrors:x,onFieldCustomErrorsChange:S,onFieldValiditionClear:f,children:(0,T.jsx)(te,{scope:n,onFieldMessageIdAdd:w.useCallback((e,t)=>{E(n=>{let r=new Set(n[e]).add(t);return{...n,[e]:r}})},[]),onFieldMessageIdRemove:w.useCallback((e,t)=>{E(n=>{let r=new Set(n[e]);return r.delete(t),{...n,[e]:r}})},[]),getFieldDescription:w.useCallback(e=>Array.from(C[e]??[]).join(` `)||void 0,[C]),children:(0,T.jsx)(i.form,{...a,ref:o,onInvalid:m(e.onInvalid,e=>{let t=X(e.currentTarget);t===e.target&&t.focus(),e.preventDefault()}),onSubmit:m(e.onSubmit,r,{checkForDefaultPrevented:!1}),onReset:m(e.onReset,r)})})})});N.displayName=k;var P=`FormField`,[F,I]=O(P),ne=w.forwardRef((e,t)=>{let{__scopeForm:n,name:r,serverInvalid:a=!1,...o}=e,s=j(P,n).getFieldValidity(r);return(0,T.jsx)(F,{scope:n,id:u(),name:r,serverInvalid:a,children:(0,T.jsx)(i.div,{"data-valid":Q(s,a),"data-invalid":$(s,a),...o,ref:t})})});ne.displayName=P;var L=`FormLabel`,R=w.forwardRef((e,t)=>{let{__scopeForm:n,...r}=e,i=j(L,n),a=I(L,n),o=r.htmlFor||a.id,s=i.getFieldValidity(a.name);return(0,T.jsx)(D,{"data-valid":Q(s,a.serverInvalid),"data-invalid":$(s,a.serverInvalid),...r,ref:t,htmlFor:o})});R.displayName=L;var z=`FormControl`,B=w.forwardRef((e,t)=>{let{__scopeForm:n,...r}=e,a=j(z,n),o=I(z,n),s=M(z,n),l=w.useRef(null),u=c(t,l),d=r.name||o.name,f=r.id||o.id,p=a.getFieldCustomMatcherEntries(d),{onFieldValidityChange:h,onFieldCustomErrorsChange:g,onFieldValiditionClear:_}=a,v=w.useCallback(async e=>{if(Z(e.validity)){h(d,Y(e.validity));return}let t=e.form?new FormData(e.form):new FormData,n=[e.value,t],r=[],i=[];p.forEach(e=>{le(e,n)?i.push(e):ue(e)&&r.push(e)});let a=r.map(({id:e,match:t})=>[e,t(...n)]),o=Object.fromEntries(a),s=Object.values(o).some(Boolean),c=s;if(e.setCustomValidity(c?V:``),h(d,Y(e.validity)),g(d,o),!s&&i.length>0){let t=i.map(({id:e,match:t})=>t(...n).then(t=>[e,t])),r=await Promise.all(t),a=Object.fromEntries(r),o=Object.values(a).some(Boolean);e.setCustomValidity(o?V:``),h(d,Y(e.validity)),g(d,a)}},[p,d,g,h]);w.useEffect(()=>{let e=l.current;if(e){let t=()=>v(e);return e.addEventListener(`change`,t),()=>e.removeEventListener(`change`,t)}},[v]);let y=w.useCallback(()=>{let e=l.current;e&&(e.setCustomValidity(``),_(d))},[d,_]);w.useEffect(()=>{let e=l.current?.form;if(e)return e.addEventListener(`reset`,y),()=>e.removeEventListener(`reset`,y)},[y]),w.useEffect(()=>{let e=l.current,t=e?.closest(`form`);if(t&&o.serverInvalid){let n=X(t);n===e&&n.focus()}},[o.serverInvalid]);let b=a.getFieldValidity(d);return(0,T.jsx)(i.input,{"data-valid":Q(b,o.serverInvalid),"data-invalid":$(b,o.serverInvalid),"aria-invalid":o.serverInvalid?!0:void 0,"aria-describedby":s.getFieldDescription(d),title:``,...r,ref:u,id:f,name:d,onInvalid:m(e.onInvalid,e=>{let t=e.currentTarget;v(t)}),onChange:m(e.onChange,e=>{y()})})});B.displayName=z;var V=`This value is not valid`,H={badInput:V,patternMismatch:`This value does not match the required pattern`,rangeOverflow:`This value is too large`,rangeUnderflow:`This value is too small`,stepMismatch:`This value does not match the required step`,tooLong:`This value is too long`,tooShort:`This value is too short`,typeMismatch:`This value does not match the required type`,valid:void 0,valueMissing:`This value is missing`},U=`FormMessage`,W=w.forwardRef((e,t)=>{let{match:n,name:r,...i}=e,a=I(U,e.__scopeForm),o=r??a.name;return n===void 0?(0,T.jsx)(q,{...i,ref:t,name:o,children:e.children||V}):typeof n==`function`?(0,T.jsx)(K,{match:n,...i,ref:t,name:o}):(0,T.jsx)(G,{match:n,...i,ref:t,name:o})});W.displayName=U;var G=w.forwardRef((e,t)=>{let{match:n,forceMatch:r=!1,name:i,children:a,...o}=e,s=j(U,o.__scopeForm).getFieldValidity(i);return r||s?.[n]?(0,T.jsx)(q,{ref:t,...o,name:i,children:a??H[n]}):null}),K=w.forwardRef((e,t)=>{let{match:n,forceMatch:r=!1,name:i,id:a,children:o,...s}=e,l=j(U,s.__scopeForm),d=c(t,w.useRef(null)),f=u(),p=a??f,m=w.useMemo(()=>({id:p,match:n}),[p,n]),{onFieldCustomMatcherEntryAdd:h,onFieldCustomMatcherEntryRemove:g}=l;w.useEffect(()=>(h(i,m),()=>g(i,m.id)),[m,i,h,g]);let _=l.getFieldValidity(i),v=l.getFieldCustomErrors(i)[p];return r||_&&!Z(_)&&v?(0,T.jsx)(q,{id:p,ref:d,...s,name:i,children:o??V}):null}),q=w.forwardRef((e,t)=>{let{__scopeForm:n,id:r,name:a,...o}=e,s=M(U,n),c=u(),l=r??c,{onFieldMessageIdAdd:d,onFieldMessageIdRemove:f}=s;return w.useEffect(()=>(d(a,l),()=>f(a,l)),[a,l,d,f]),(0,T.jsx)(i.span,{id:l,...o,ref:t})}),J=`FormValidityState`,re=e=>{let{__scopeForm:t,name:n,children:r}=e,i=j(J,t),a=I(J,t),o=n??a.name;return(0,T.jsx)(T.Fragment,{children:r(i.getFieldValidity(o))})};re.displayName=J;var ie=`FormSubmit`,ae=w.forwardRef((e,t)=>{let{__scopeForm:n,...r}=e;return(0,T.jsx)(i.button,{type:`submit`,...r,ref:t})});ae.displayName=ie;function Y(e){let t={};for(let n in e)t[n]=e[n];return t}function oe(e){return e instanceof HTMLElement}function se(e){return`validity`in e}function ce(e){return se(e)&&(e.validity.valid===!1||e.getAttribute(`aria-invalid`)===`true`)}function X(e){let t=e.elements,[n]=Array.from(t).filter(oe).filter(ce);return n}function le(e,t){return e.match.constructor.name===`AsyncFunction`||de(e.match,t)}function ue(e){return e.match.constructor.name===`Function`}function de(e,t){return e(...t)instanceof Promise}function Z(e){let t=!1;for(let n in e){let r=n;if(r!==`valid`&&r!==`customError`&&e[r]){t=!0;break}}return t}function Q(e,t){if(e?.valid===!0&&!t)return!0}function $(e,t){if(e?.valid===!1||t)return!0}var fe=N;function pe(){return S(_,{},(0,w.useContext)(v.reflex___state____state__favored_coffee___state___base____state).error_message_rx_state_)}function me(){return S(w.Fragment,{},b((0,w.useContext)(v.reflex___state____state__favored_coffee___state___base____state).error_message_rx_state_)?S(w.Fragment,{},S(f,{color:`red`,css:{icon:`triangle_alert`,width:`100%`}},S(a,{},S(C,{})),S(pe,{}))):S(w.Fragment,{}))}function he(){return S(r,{css:{background:`linear-gradient(to right, #D94A8A, #EB7A74)`,color:`white`,isLoading:(0,w.useContext)(v.reflex___state____state__favored_coffee___state___base____state).is_loading_rx_state_,width:`100%`},size:`3`,type:`submit`},`Ingresar`)}function ge(){let[e,t]=(0,w.useContext)(s);return S(fe,{className:`Root `,css:{width:`100%`},onSubmit:(0,w.useCallback)(t=>{let n=t.target;t.preventDefault();let r={...Object.fromEntries(new FormData(n).entries())};((...t)=>e([p(`reflex___state____state.favored_coffee___state___base____state.login`,{form_data:r},{})],t,{}))(t)})},S(g,{align:`start`,className:`rx-Stack`,css:{width:`100%`},direction:`column`,gap:`4`},S(o,{as:`p`,size:`2`,weight:`medium`},`Correo Electrónico`),S(y,{css:{width:`100%`},name:`email`,placeholder:`admin@cafe.com`,required:!0,size:`3`,type:`email`}),S(o,{as:`p`,size:`2`,weight:`medium`},`Contraseña`),S(y,{css:{width:`100%`},name:`password`,placeholder:`admin123`,required:!0,size:`3`,type:`password`}),S(me,{}),S(he,{})))}var _e=n(function(){return S(w.Fragment,{},S(g,{align:`center`,css:{height:`100vh`,width:`100%`,background:`linear-gradient(to bottom right, var(--plum-3), var(--tomato-3))`},justify:`center`},S(d,{css:{padding:`2.5em`,borderRadius:`1em`,background:`white`,boxShadow:`0px 10px 30px -5px rgba(0, 0, 0, 0.1)`,maxWidth:`400px`,width:`100%`}},S(l,{color:`plum`,css:{marginBottom:`0.5em`},size:`8`},`Cafetería App`),S(l,{css:{marginBottom:`0.5em`},size:`6`},`¡Bienvenido!`),S(o,{as:`p`,color:`gray`,css:{marginBottom:`2em`}},`Inicia sesión para gestionar tu negocio.`),S(ge,{}))),S(`title`,{},`Iniciar Sesión`),S(`meta`,{content:`favicon.ico`,property:`og:image`}))});export{_e as default};